{"ast":null,"code":"import _classCallCheck from\"/home/aravind/Desktop/pipeline/kyvor/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aravind/Desktop/pipeline/kyvor/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/aravind/Desktop/pipeline/kyvor/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/aravind/Desktop/pipeline/kyvor/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import'./App.scss';import AppRoutes from'./AppRoutes';import Navbar from'./shared/Navbar';import Sidebar from'./shared/Sidebar';import SettingsPanel from'./shared/SettingsPanel';import Footer from'./shared/Footer';import store from'../store';import{withTranslation}from\"react-i18next\";import{Provider}from'react-redux';import{checkAuthenticated,load_user}from'../actions/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){store.dispatch(load_user(),checkAuthenticated());this.onRouteChanged();}},{key:\"render\",value:function render(){var navbarComponent=!this.state.isFullPageLayout?/*#__PURE__*/_jsx(Navbar,{}):'';var sidebarComponent=!this.state.isFullPageLayout?/*#__PURE__*/_jsx(Sidebar,{}):'';var SettingsPanelComponent=!this.state.isFullPageLayout?/*#__PURE__*/_jsx(SettingsPanel,{}):'';var footerComponent=!this.state.isFullPageLayout?/*#__PURE__*/_jsx(Footer,{}):'';return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-scroller\",children:[navbarComponent,/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid page-body-wrapper\",children:[sidebarComponent,/*#__PURE__*/_jsxs(\"div\",{className:\"main-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsx(AppRoutes,{}),SettingsPanelComponent]}),footerComponent]})]})]})})});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.location!==prevProps.location){this.onRouteChanged();}}},{key:\"onRouteChanged\",value:function onRouteChanged(){console.log(\"ROUTE CHANGED\");var i18n=this.props.i18n;var body=document.querySelector('body');if(this.props.location.pathname==='/layout/RtlLayout'){body.classList.add('rtl');i18n.changeLanguage('ar');}else{body.classList.remove('rtl');i18n.changeLanguage('en');}window.scrollTo(0,0);var fullPageLayoutRoutes=['/user-pages/login-1'];for(var i=0;i<fullPageLayoutRoutes.length;i++){if(this.props.location.pathname===fullPageLayoutRoutes[i]){this.setState({isFullPageLayout:true});document.querySelector('.page-body-wrapper').classList.add('full-page-wrapper');break;}else{this.setState({isFullPageLayout:false});document.querySelector('.page-body-wrapper').classList.remove('full-page-wrapper');}}}}]);return App;}(Component);export default withTranslation()(withRouter(App));","map":{"version":3,"sources":["/home/aravind/Desktop/pipeline/kyvor/front/src/app/App.js"],"names":["React","Component","withRouter","AppRoutes","Navbar","Sidebar","SettingsPanel","Footer","store","withTranslation","Provider","checkAuthenticated","load_user","App","state","dispatch","onRouteChanged","navbarComponent","isFullPageLayout","sidebarComponent","SettingsPanelComponent","footerComponent","prevProps","props","location","console","log","i18n","body","document","querySelector","pathname","classList","add","changeLanguage","remove","window","scrollTo","fullPageLayoutRoutes","i","length","setState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './App.scss';\nimport AppRoutes from './AppRoutes';\nimport Navbar from './shared/Navbar';\nimport Sidebar from './shared/Sidebar';\nimport SettingsPanel from './shared/SettingsPanel';\nimport Footer from './shared/Footer';\nimport store from '../store'\nimport { withTranslation } from \"react-i18next\";\nimport { Provider } from 'react-redux';\n\nimport { checkAuthenticated,load_user } from '../actions/auth';\n\nclass App extends Component {\n  \n  state = {}\n  \n  componentDidMount() {\n    store.dispatch(load_user(),checkAuthenticated());\n    this.onRouteChanged();\n  }\n  render () {\n    let navbarComponent = !this.state.isFullPageLayout ? <Navbar/> : '';\n    let sidebarComponent = !this.state.isFullPageLayout ? <Sidebar/> : '';\n    let SettingsPanelComponent = !this.state.isFullPageLayout ? <SettingsPanel/> : '';\n    let footerComponent = !this.state.isFullPageLayout ? <Footer/> : '';\n   \n    return (\n      <div>\n         <Provider store={store}>\n\n      \n         <div className=\"container-scroller\">\n        { navbarComponent }\n        <div className=\"container-fluid page-body-wrapper\">\n          { sidebarComponent }\n          <div className=\"main-panel\">\n            <div className=\"content-wrapper\">\n              <AppRoutes/>\n              { SettingsPanelComponent }\n            </div>\n            { footerComponent }\n          </div>\n        </div>\n      </div>\n\n        \n\n         \n         </Provider>\n       \n      </div>\n    );\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      this.onRouteChanged();\n    }\n  }\n\n  onRouteChanged() {\n    console.log(\"ROUTE CHANGED\");\n    const { i18n } = this.props;\n    const body = document.querySelector('body');\n    if(this.props.location.pathname === '/layout/RtlLayout') {\n      body.classList.add('rtl');\n      i18n.changeLanguage('ar');\n    }\n    else {\n      body.classList.remove('rtl')\n      i18n.changeLanguage('en');\n    }\n    window.scrollTo(0, 0);\n    const fullPageLayoutRoutes = ['/user-pages/login-1'];\n    for ( let i = 0; i < fullPageLayoutRoutes.length; i++ ) {\n      if (this.props.location.pathname === fullPageLayoutRoutes[i]) {\n        this.setState({\n          isFullPageLayout: true\n        })\n        document.querySelector('.page-body-wrapper').classList.add('full-page-wrapper');\n        break;\n      } else {\n        this.setState({\n          isFullPageLayout: false\n        })\n        document.querySelector('.page-body-wrapper').classList.remove('full-page-wrapper');\n      }\n    }\n  }\n\n  \n}\n\nexport default withTranslation() (withRouter(App));\n\n"]},"metadata":{},"sourceType":"module"}